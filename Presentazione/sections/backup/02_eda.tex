\section{Exploratory Data Analysis}


\begin{frame}{Dataset Overview}
\begin{columns}
    \begin{column}{0.5\textwidth}
        \begin{itemize}
            \item Highly Imbalanced
            \item Noisy 
            \item Complex
        \end{itemize}
    \end{column}
    %%
    \begin{column}{0.5\textwidth}
        \begin{tikzpicture}
            \begin{axis}[
              ybar,
              bar width=0.7cm,
              width=7cm,
              height=6cm,
              xlabel={Label},
              ylabel={Count},
              symbolic x coords={0, 1},
              xtick=data,
              nodes near coords,
              nodes near coords align={vertical},
              ymin=0,
              ymax=70000,
              enlargelimits=0.15,
              legend style={at={(0.5,-0.15)}, anchor=north, legend columns=-1},
              ymajorgrids=true,
              grid style=dashed,
              ]
              \addplot[fill=maincolor] coordinates {(0, 59331) (1, 13292)};
            \end{axis}
        \end{tikzpicture}
    \end{column}
\end{columns}
\end{frame}
\begin{frame}{Distribution of utternance type}
%=======================================================================

\begin{tikzpicture}
\begin{axis}[
    ybar=0.05cm, % Adjust the space between columns
    bar width=0.2cm,
    width=13cm,
    height=5.5cm,
    xlabel={},
    ylabel={Count},
    xtick=data,
    nodes near coords={},
    ymajorgrids=true,
    grid style=dashed,
    legend style={at={(0.3,0.95)}, anchor=north, legend columns=-1},
    legend entries={Unimportant, Important},
    xticklabels={
      Acknowledgement,
      Alternation,
      Background,
      Clarification\_question,
      Comment,
      Conditional,
      Continuation,
      Contrast,
      Correction,
      Elaboration,
      Explanation,
      Narration,
      Parallel,
      Q-Elab,
      Question-answer\_pair,
      Result
      },
      xticklabel style={rotate=40, anchor=east}
    ]
    
    % Replace the coordinates with your data
    \addplot[fill=maincolor] coordinates {
      (0, 18338)
      (1, 457)
      (2, 216)
      (3, 2346)
      (4, 5035)
      (5, 649)
      (6, 10057)
      (7, 5115)
      (8, 48)
      (9, 7445)
      (10, 1724)
      (11, 316)
      (12, 99)
      (13, 361)
      (14, 4383)
      (15, 2742)
    };
    
    \addplot[fill=viridisorangecolor] coordinates {
      (0, 404)
      (1, 135)
      (2, 53)
      (3, 421)
      (4, 438)
      (5, 213)
      (6, 4024)
      (7, 1991)
      (8, 3)
      (9, 3519)
      (10, 596)
      (11, 83)
      (12, 14)
      (13, 35)
      (14, 491)
      (15, 872)
    };
    
\end{axis}
\end{tikzpicture}
\end{frame}

%=======================================================================



\begin{frame}{Analysing Speaker Importance}
\begin{columns}
    \begin{column}{0.35\textwidth}
        \begin{itemize}
            \item Speakers have different shares in the conversation
            \item  PM speaks the most
            \item Ratio of important sentences over unimportant more revealing

        \end{itemize}
    \end{column}
    %%
    \begin{column}{0.65\textwidth}
        \begin{tikzpicture}
    \begin{axis}[
      ybar,
      bar width=0.7cm,
      width=8cm,
      height=6cm,
      xlabel={Speaker},
      ylabel={Ratio of 1s},
      symbolic x coords={ID, ME, PM, UI},
      xtick=data,
      nodes near coords,
      nodes near coords align={vertical},
      ymin=0,
      ymax=0.2,
      enlargelimits=0.15,
      legend style={at={(0.5,-0.15)}, anchor=north, legend columns=-1},
      ymajorgrids=true,
      grid style=dashed,
      ]
      \addplot[fill=maincolor] coordinates {(ID, 0.181753) (ME, 0.181092) (PM, 0.182270) (UI, 0.187721)};
    \end{axis}
  \end{tikzpicture}
    \end{column}
\end{columns}
\end{frame}

%=======================================================================


\begin{frame}{Sentence Length Analysis}
\begin{tikzpicture}
  \begin{axis}[
    ybar=0.1cm, % Adjust the space between columns
    bar width=0.1cm,
    width=13cm,
    height=6cm,
    xlabel={Sentence Length (\# of words)},
    ylabel={Count},
    symbolic x coords={
      0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
      11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
      21, 22, 23, 24, 25, 26, 27, 28, 29, 30,
      31, 32
    },
    xtick={0,5,10,15,20,25,30},
    nodes near coords={},
    %nodes near coords align={vertical},
    ymajorgrids=true,
    %
    legend entries={Unimportant, Important},
    grid style=dashed,
    ]
    \addplot[fill=maincolor] coordinates {
      (0, 2157) (1, 19266) (2, 12815) (3, 8519) (4, 5513) (5, 3569) (6, 2466) (7, 1562) (8, 1045) (9, 715) (10, 513)
      (11, 370) (12, 275) (13, 191) (14, 113) (15, 78) (16, 51) (17, 32) (18, 20) (19, 22) (20, 13) (21, 9) (22, 7) (23, 5)
      (24, 1) (25, 2) (26, 2) (27, 0) (28, 0) (29, 0) (30, 0) (31, 0) (32, 0)
    };
    \addplot[fill=viridisorangecolor] coordinates {
      (0, 16) (1, 322) (2, 1023) (3, 1651) (4, 1743) (5, 1725) (6, 1475) (7, 1253) (8, 953) (9, 769) (10, 591)
      (11, 448) (12, 325) (13, 271) (14, 198) (15, 160) (16, 97) (17, 74) (18, 41) (19, 47) (20, 25) (21, 19) (22, 23) (23, 8)
      (24, 10) (25, 5) (26, 8) (27, 3) (28, 5) (29, 1) (30, 1) (31, 1) (32, 1)
    };
  \end{axis}
\end{tikzpicture}

\end{frame}




%=======================================================================


\begin{frame}{Sentence Length Analysis}
    \begin{tikzpicture}
  \begin{axis}[
    ybar=0.1cm, % Adjust the space between columns
    bar width=0.1cm,
    width=13cm,
    height=6cm,
    xlabel={Sentence Length (\# of words)},
    ylabel={Rati0},
    symbolic x coords={
      0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
      11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
      21, 22, 23, 24, 25, 26, 27, 28, 29, 30,
      31, 32
    },
    xtick={0,5,10,15,20,25,30},
    nodes near coords={},
    %nodes near coords align={vertical},
    ymajorgrids=true,
    %
    grid style=dashed,
    legend style={at={(0.37,0.9)}, anchor=north, legend columns=-1},
    legend entries={Ratio 0s, Ratio 1s},
    ]
    \addplot[fill=maincolor] coordinates {
      (0, 0.992637) (1, 0.983561) (2, 0.926073) (3, 0.837660) (4, 0.759785) (5, 0.674159) (6, 0.625730) (7, 0.554885) (8, 0.523023) (9, 0.481806) (10, 0.464674)
      (11, 0.452323) (12, 0.458333) (13, 0.413420) (14, 0.363344) (15, 0.327731) (16, 0.344595) (17, 0.301887) (18, 0.327869) (19, 0.318841) (20, 0.342105) (21, 0.321429)
      (22, 0.233333) (23, 0.384615) (24, 0.090909) (25, 0.285714) (26, 0.200000) (27, 0) (28, 0) (29, 0) (30, 0) (31, 0) (32, 0)
    };
    \addplot[fill=viridisorangecolor] coordinates {
      (0, 0.007363) (1, 0.016439) (2, 0.073927) (3, 0.162340) (4, 0.240215) (5, 0.325841) (6, 0.374270) (7, 0.445115) (8, 0.476977) (9, 0.518194) (10, 0.535326)
      (11, 0.547677) (12, 0.541667) (13, 0.586580) (14, 0.636656) (15, 0.672269) (16, 0.655405) (17, 0.698113) (18, 0.672131) (19, 0.681159) (20, 0.657895) (21, 0.678571)
      (22, 0.766667) (23, 0.615385) (24, 0.909091) (25, 0.714286) (26, 0.800000) (27, 1.000000) (28, 1.000000) (29, 1.000000) (30, 1.000000) (31, 1.000000) (32, 1.000000)
    };
  \end{axis}
\end{tikzpicture}
\end{frame}
%=======================================================================
\begin{frame}[fragile]{Pre-Processing}
\begin{columns}  % adding [onlytextwidth] the left margins will be set correctly
\begin{column}{0.3\textwidth}
        \begin{itemize}
            \item Remove Noise words
            \item Unify Repeated Unigrams
            \item Remove stop words
            \item Remove sentences with \# stop words $\leq$ 3
    \end{itemize}
    \end{column}
    \begin{column}{0.7\textwidth}
        \begin{block}{}
            \begin{verbatim}
words_to_remove = ['vocalsound','gap','disfmark'
                    'like','yep', 'okay',
                    'well','uh','um','ah',
                    'pause', 'er', 'aye', 'yeah', 
                    ]
replace = {'gonna': 'going'}
            \end{verbatim}
        \end{block}
    \end{column}
\end{columns}
\end{frame}


%=======================================================================

\begin{frame}{Cleaning Dataset with clustering}
\centering
\begin{tikzpicture}[>=stealth, node distance=2cm]
  % Nodes
  \node (alldataset) {All Dataset};
  \node (firstpreprocessing_1) [below=0.5cm of alldataset] {First Pre-processing};
  \node (firstpreprocessing) [below=0.01cm of firstpreprocessing_1] {and clustering};

  
  \node (balancedset) [below left=0.2cm and 0.05cm of firstpreprocessing] {Balanced Set};  
  \node (rest) [below right=0.2cm and 0.05cm of firstpreprocessing] {Rest };

  
  \node (secondpreprocessing_1) [below=0.6cm of rest] {Lighter Pre-processing};
  \node (secondpreprocessing) [below=0.1cm of secondpreprocessing_1] {and Second clustering};
  \node (unimportant) [below right=0.2cm and 0.05cm of secondpreprocessing] {Clusters with 95\%};
  \node (unimportant_) [below=0.1cm of unimportant] { Unimportant};


    \node (others) [below left=0.2cm and 0.05cm of secondpreprocessing] {Others};
  
    %\node (Noise) [below right=0.2cm and 0.05cm of secondpreprocessing] {Clusters with 95\% Unimportant};
  
  %\node (nois) [below lest=0.2cm and 0.1cm of rest] {Clusters with 95\% 0s};


  %\node (24) [below =0.05cm of balancedset] {\small 24\%};
  %\node (76) [right =0.05cm of rest] {\small 76\%};
  
  % Arrows
  \draw[->] (alldataset) -- (firstpreprocessing_1);
  \draw[->] (firstpreprocessing) -- (balancedset);
  \draw[->] (firstpreprocessing) -- (rest);
  \draw[->] (rest) -- (secondpreprocessing_1);
  \draw[->] (secondpreprocessing) -- (unimportant);
  \draw[->] (secondpreprocessing) -- (others);
  
\end{tikzpicture}


\end{frame}




%=======================================================================
\begin{frame}{Overall Result}


        \begin{tikzpicture}
  \pie[
    sum=auto,
    polar,
    radius=2,
    %explode={0, 0.2, 0},
    %text=legend,
    %style={font=\scriptsize},
    after number=\%,
    ]
    { 43/,24/ , 33/ 95\% Unimportant}




  \begin{axis}[
    ybar,
    at={(1.5cm,3cm)},
    bar width=0.5cm,
    width=5cm,
    height=3cm,
    xlabel={Cluster Label},
    ylabel={Ratio of 1s},
    ymin=0,
    symbolic x coords={
      1, 2, 3, 4, 5
    },
ylabel near ticks,
    xtick=data,
    nodes near coords= {},
    ymajorgrids=true,
    grid style=dashed,
    legend style={at={(0.5,1.2)}, anchor=north, legend columns=-1},
    ]
    \addplot[fill=maincolor] coordinates {
      (1, 0.27983996443654146) (2, 0.38674698795180724) (3, 0.1789531378459852) (4, 0.3397849462365591) (5, 0.3076923076923077)
    };
  \end{axis}
    %\draw (1cm,1.7cm) rectangle (7cm,3.2cm);
     \draw[-]   (1,1)   -- (1.5,3);
     \draw[-]   (1,1)   -- (4.9,3);
    \draw[-]   (1,1)   -- (1.5,4.4);
    
    
    
    
    
    \begin{axis}[
    ybar=0.05cm, % Adjust the space between columns
    bar width=0.1cm,
    width=7.5cm,
    height=4cm,
    xlabel={Cluster},
    ylabel={Count},
    xtick=data,
    nodes near coords={},
    ymajorgrids=true,
    grid style=dashed,
    legend style={at={(0.3,0.95)}, anchor=north, legend columns=-1},
    %legend entries={Unimportant, Important},
    at={(-7.3cm,1.5cm)},
    ]
    \addplot[fill=maincolor] coordinates {
      (0, 123) (1, 765) (2, 2774) (3, 12) (4, 335) (5, 488) (6, 4198) (7, 100) (8, 244) (9, 104)
    };
    \addplot[fill=viridisorangecolor] coordinates {
      (0, 48) (1, 726) (2, 2466) (3, 11) (4, 309) (5, 544) (6, 3852) (7, 144) (8, 199) (9, 113)
    };

  \end{axis}

    \draw[-]   (-1,0.5)   -- (-7.3cm,1.5cm);
     \draw[-]   (-1,0.5)   -- (-1.38cm,1.5cm);
     \draw[-]   (-1,0.5)   -- (-1.38cm,3.9cm);

  
\end{tikzpicture}



\end{frame}



%=======================================================================




%=======================================================================

